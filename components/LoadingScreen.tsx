import React, { useEffect, useState } from 'react';
import { useTheme } from '../ThemeContext';

interface LoadingScreenProps {
  onFinished: () => void;
}

// Logo internal shapes data for sequential animation
const logoShapes = [
  { d: "M34.7 68.6C33.6 70 32.5 71.4 31.3 72.9C30.2 74.3 29.2 75.8 28.1 77.3L26.3 75.9C27.5 74.4 28.7 72.9 29.7 71.5C30.8 70 31.8 68.6 32.8 67.2L34.7 68.6ZM39.2 68.5C38 67.7 36.9 67 35.9 66.3C34.9 65.6 33.7 64.8 32.2 63.7L33.9 61.4C34.8 62.4 35.8 63.3 37 64.2C38.2 65.1 39.4 65.9 40.6 66.7L42.8 63.8C43.7 62.6 44.6 61.3 45.5 60L47.2 61.3C46.2 62.5 45.3 63.7 44.4 64.9L42.2 67.8C44.9 69.5 47.3 70.7 49.4 71.2C51.5 71.7 53.3 72 54.8 72C56.3 72 57 71.6 56.9 71C56.7 70.3 56.1 69.5 55 68.6C56.1 68.5 57 68.2 57.9 67.7C59.5 69.8 60.3 71.2 60.3 72.1C60.3 72.9 59.6 73.5 58.2 73.9C56.8 74.3 55.3 74.5 53.9 74.4C52.5 74.3 51.2 74.2 49.9 73.9C48.7 73.6 47.4 73.1 46 72.5C44.6 71.9 42.9 70.9 41 69.6L37.6 74.2L41.3 76.9C42.3 75.5 43.2 74.3 43.9 73.2L45.7 74.6C44.8 75.7 43.8 76.9 42.9 78.1L47.3 81.4C48.4 79.2 49.3 77.6 49.9 76.4C50.3 76.8 50.9 77.3 51.7 77.9C50.3 80.3 49 82.9 47.6 85.6C46.2 88.4 45.3 90.5 44.8 92C44 91.5 43.1 91.1 41.9 90.8C42.4 90.1 42.9 89.3 43.4 88.3L38.3 84.5C37.3 83.7 36.2 83 35.2 82.4L36.8 80.3C37.7 81.1 38.7 81.8 39.6 82.6L44.6 86.4L46.1 83.6L36.1 76.1L34.2 78.6C33.2 80 32.2 81.3 31.3 82.8L29.6 81.5C30.7 80.2 31.7 78.9 32.7 77.5L39.2 68.5ZM42.3 59.1C42.3 60 42.4 60.9 42.5 61.7C41.6 61.7 40.1 61.9 37.9 62.4C37.9 61.7 37.8 60.9 37.5 60.1C39.5 59.6 41.1 59.2 42.3 59.1Z" },
  { d: "M63 39.2C62.8 40.2 62.8 41 62.8 41.7999C60.6 41.4 58.5 41.2 56.4 41.2C56.6 40.2 56.7 39.4 56.6 38.9C58.8 38.9 60.9 39 63 39.2ZM66.2 45.7C66.1 46.6 66 47.4 66 48.4C63.7 48.1 61.5 48.1 59.3 48.2C59.4 47.2999 59.4 46.5 59.3 45.7C61 45.7 63.3 45.7 66.2 45.7ZM64 39L62.8 37.0999C64.5 36.0999 65.9 35.2 67.2 34.4999L77 28.2C78.2 31.4 79.1 34.4999 79.8 37.4999C80.5 40.5 80.8 43.2999 80.8 45.9C82.4 46.4 84.3 46.7 86.2 46.7999C88.2 46.9 90 46.9 91.8 46.7C91.4 47.4 91.2 48.4 91.2 49.6C89.9 49.6 88.1 49.5 86 49.2C83.9 48.9 82 48.5 80.3 47.9C80 49.7999 79.5 51.7999 78.7 53.7C77.9 55.7 77.1 57.6 76 59.6C75.4 59.2 74.6 58.9 73.4 58.7C74.4 57.5 75.3 55.9 76.3 53.9C77.2 51.9 77.9 49.6 78.3 47.2C76.2 46.2999 74.1 45 72.2 43.4C70.2 41.7999 68.1 39.9 65.9 37.5999C65.2 38.2 64.6 38.6 64 39ZM70.9 61.6C70.1 61.4 69.2 61.4 68.1 61.5C68.2 59.6 68.2 57.6 68 55.6C67.8 53.5 67.6 51.7999 67.3 50.2C68.2 50.5 69.1 50.6 69.8 50.6C70.2 54.7 70.6 58.4 70.9 61.6ZM73.2 41.5C75.3 43.2 77.1 44.2999 78.5 44.7999C78.5 43.2999 78.3 41.5 77.8 39.1C77.3 36.8 76.6 34.2 75.5 31.4L68.6 35.8L67.8 36.3C69.3 38.2 71.1 39.9 73.2 41.5Z" },
  { d: "M104.9 37.9999C103.7 38.6999 102.6 39.4999 101.7 40.2999C101.2 39.2999 100.7 38.4999 100.2 37.7999C101 37.5999 102.1 37.1999 103.5 36.3999L101.5 26.7999C100.4 26.9999 99.4 27.2999 98.4 27.5999L98 25.4999C99 25.3999 100 25.1999 101.1 24.9999L100.2 20.6999C100 19.7999 99.8 18.7999 99.4 17.5999L101.8 17.0999C101.9 18.0999 102.1 19.1999 102.3 20.1999L103.2 24.4999C104.1 24.2999 105.1 24.0999 106 23.7999L106.4 25.8999C105.4 25.9999 104.5 26.1999 103.5 26.3999L105.4 35.2999C106.2 34.9999 107.1 34.4999 108.1 33.8999C108.2 34.6999 108.3 35.3999 108.4 36.0999C107.3 36.5999 106.1 37.2999 104.9 37.9999ZM124.5 22.6999C124.3 23.8999 124.2 25.0999 124.2 26.4999C124.2 27.7999 124.1 29.1999 123.9 30.5999C123.7 31.9999 123.5 33.0999 123.3 33.8999C124.4 35.1999 125.2 35.8999 125.9 36.0999C126.5 36.2999 126.7 35.2999 126.5 33.1999C127.4 33.7999 128.2 34.0999 129 34.2999C129 35.6999 128.8 36.8999 128.5 37.9999C128.2 39.0999 127.6 39.4999 126.8 39.1999C126 38.9999 125.2 38.4999 124.4 37.8999C123.6 37.2999 122.9 36.5999 122.3 35.8999C121.8 36.7999 121.3 37.7999 120.6 38.6999C119.9 39.6999 119.2 40.5999 118.3 41.3999C117.6 40.6999 116.8 40.1999 116 39.8999C117.1 38.9999 118.1 38.0999 118.8 37.0999C119.6 36.1999 120.2 35.0999 120.7 33.8999C119.6 32.1999 118.6 29.9999 117.7 27.3999C116.8 24.7999 116.2 22.4999 115.7 20.5999L109.5 21.8999L110.4 26.1999L115.5 25.0999C115.7 26.1999 115.9 27.4999 116.2 28.8999L117.1 33.7999C117.4 35.1999 117.2 36.1999 116.6 36.7999C115.9 37.3999 115 37.8999 113.9 38.3999C113.5 37.3999 113.1 36.5999 112.5 35.7999C113.8 35.4999 114.6 35.1999 114.9 34.8999C115.1 34.5999 115.2 34.0999 115 33.4999L113.9 27.3999L110.9 27.9999C111.1 29.1999 111.4 30.4999 111.6 31.9999C111.8 33.4999 111.7 35.0999 111.4 36.8999C111.1 38.6999 110.3 40.5999 109.2 42.5999C108.5 42.1999 107.7 41.9999 106.7 41.7999C107.9 39.8999 108.8 38.0999 109.1 36.4999C109.5 34.8999 109.6 33.2999 109.4 31.8999C109.2 30.4999 108.9 28.5999 108.4 26.3999C107.9 23.9999 107.4 21.9999 107 20.2999L115.3 18.5999C115 17.0999 114.5 15.2999 113.9 13.2999C114.8 13.2999 115.7 13.1999 116.6 12.9999C116.6 14.3999 116.9 16.0999 117.4 18.0999L119.2 17.6999C120.9 17.2999 122.6 16.8999 124.3 16.4999L124.8 18.7999C123.1 19.0999 121.4 19.3999 119.7 19.6999L118 19.9999C118.4 21.6999 119 23.5999 119.6 25.4999C120.2 27.3999 121 29.3999 122 31.2999C122.2 29.9999 122.3 28.5999 122.3 26.8999C122.3 25.2999 122.2 23.5999 122 21.8999C122.5 22.4999 123.4 22.5999 124.5 22.6999ZM123 15.4999C122.2 16.0999 121.6 16.6999 121.3 17.1999C120.3 16.0999 119.2 14.9999 118 13.9999C118.6 13.5999 119.1 12.9999 119.6 12.3999C121.2 13.5999 122.3 14.5999 123 15.4999Z" },
  { d: "M164.7 19.2999C166.6 19.5999 168.7 19.8999 170.9 20.1999L170.5 22.5999C168.3 22.1999 166.2 21.7999 164.3 21.4999L158.1 20.4999L157.4 24.5999L166.6 26.0999C166.3 27.4999 166 28.9999 165.8 30.4999L164.9 36.3999C164.7 37.7999 164.1 38.5999 163.1 38.8999C162.1 39.1999 160.8 39.2999 159.1 39.1999C159.1 38.1999 158.9 37.1999 158.5 36.1999C160.2 36.4999 161.2 36.5999 161.7 36.5999C162.2 36.5999 162.4 36.1999 162.6 35.4999L163.8 27.7999L157.2 26.6999L155.7 36.0999C155.4 38.0999 155.1 39.7999 155 41.2999L152.3 40.8999C152.6 39.4999 152.9 37.7999 153.2 35.7999L154.7 26.3999L148 25.2999L146.1 36.9999L143.5 36.5999C143.8 35.2999 144.1 33.7999 144.4 32.0999L145.1 27.6999C145.4 25.8999 145.6 24.1999 145.8 22.7999L155.1 24.2999L155.8 20.1999L149.6 19.1999C147.5 18.8999 145.4 18.5999 143.4 18.2999L143.8 15.8999C145.9 16.2999 147.9 16.6999 150 16.9999L164.7 19.2999ZM159.3 17.0999C158.4 17.3999 157.6 17.5999 157 17.8999C156.5 16.4999 155.8 15.0999 154.8 13.7999C155.5 13.3999 156.2 13.0999 156.9 12.7999C157.7 13.8999 158.5 15.3999 159.3 17.0999Z" },
  { d: "M204.1 44.0999L202.8 46.2999C201.7 45.8999 200.6 45.7999 199.6 45.7999C198.5 45.7999 197.3 45.6999 196 45.5999L195.5 46.4999L202.1 50.2999C202.9 50.7999 204 51.3999 205.4 52.0999L204.2 54.1999C202.8 53.2999 201.8 52.6999 201 52.1999L194.4 48.3999L191.9 52.6999C191.3 53.6999 190.6 54.0999 189.7 53.8999C188.8 53.6999 187.4 53.1999 185.6 52.2999C185.8 51.3999 185.9 50.3999 185.9 49.3999L188.7 50.9999C189.4 51.3999 190 51.1999 190.4 50.4999L192.3 47.1999L185.1 42.9999C184 42.3999 182.7 41.6999 181.3 40.8999L182.5 38.7999C183.9 39.6999 185.1 40.4999 186.1 40.9999L193.4 45.1999C193.7 44.5999 194 43.9999 194.3 43.1999L199.2 43.4999L193.4 40.1999C192.1 39.3999 190.5 38.5999 188.8 37.6999L190 35.6999C191.5 36.6999 192.9 37.4999 194.3 38.2999L204.1 44.0999ZM205.2 38.3999L211 41.6999C210.6 42.2999 210.1 42.9999 209.6 43.7999C209.1 44.5999 208.7 45.4999 208.3 46.2999L206.1 44.9999L207.7 42.1999L189.6 31.7999L187.9 34.6999L185.7 33.3999C186.3 32.5999 186.8 31.7999 187.3 30.8999C187.8 30.0999 188.2 29.2999 188.5 28.5999L203.1 36.9999C204.2 36.2999 205.4 35.5999 206.6 34.8999C207.8 34.1999 208.9 33.3999 209.9 32.4999C210.7 33.7999 211.3 34.6999 211.7 35.3999C209.3 36.3999 207.2 37.2999 205.2 38.3999ZM196 30.4999C194.9 30.5999 194 30.7999 193.3 30.9999C193.2 29.0999 192.8 27.3999 192.2 25.6999C193.3 25.5999 194.1 25.4999 194.7 25.2999C195.3 27.0999 195.7 28.7999 196 30.4999ZM202.7 33.8999C201.8 33.9999 200.9 34.0999 199.9 34.0999C200 32.6999 199.9 30.8999 199.6 28.8999C200.6 28.7999 201.5 28.7999 202.2 28.6999C202.5 31.1999 202.7 32.8999 202.7 33.8999Z" },
  { d: "M231.2 59.9999C229.6 60.5999 228.1 61.2999 226.5 61.7999C226 64.1999 225.4 65.8999 224.8 66.8999C224.2 67.8999 223.4 68.5999 222.5 69.0999C221.5 69.5999 220.6 69.6999 219.6 69.3999C218.7 69.0999 217.7 68.4999 216.9 67.3999C217.6 66.7999 218.2 66.0999 218.7 65.2999C219.5 66.5999 220.2 67.1999 220.8 67.0999C221.4 66.9999 222 66.5999 222.5 65.9999C223 65.3999 223.5 64.5999 223.8 63.5999C224.1 62.5999 224.4 61.4999 224.6 60.2999C225.6 59.8999 226.8 59.3999 228.1 58.8999C229.4 58.3999 230.6 57.7999 231.8 57.1999L229.7 54.5999L211 69.8999L209.5 68.0999C210.7 67.1999 212.2 65.9999 213.9 64.6999L225.8 54.9999C227.2 53.8999 228.4 52.7999 229.6 51.7999L235.1 58.4999C234 58.8999 232.7 59.3999 231.2 59.9999ZM233.8 76.1999C234.7 77.2999 235.6 78.2999 236.4 79.1999L234.8 80.4999C234.1 79.4999 233.6 78.7999 233.3 78.4999L232 76.8999L226.1 81.6999C225.4 82.2999 225.2 82.8999 225.6 83.4999C226 84.0999 226.4 84.4999 226.7 84.8999C227 85.1999 227.4 85.3999 227.9 85.2999C228.3 85.1999 229.1 84.7999 230 84.0999C230.1 84.9999 230.3 85.7999 230.6 86.5999C228.7 87.5999 227.4 87.8999 226.7 87.4999C226 87.0999 225 86.0999 223.8 84.4999C222.6 82.8999 222.8 81.4999 224.4 80.2999L230.6 75.1999L228.8 72.9999C227.3 74.2999 225.7 75.3999 224.1 76.0999C222.4 76.7999 220.9 76.9999 219.3 76.6999C217.8 76.3999 216.4 75.8999 215.1 75.0999C215.4 74.3999 215.5 73.5999 215.4 72.4999C218.4 74.4999 220.7 75.0999 222.5 74.3999C224.3 73.6999 225.9 72.5999 227.5 71.1999C226.3 69.7999 225.4 68.7999 224.9 68.1999L226.5 66.8999C227.1 67.7999 227.9 68.7999 228.8 69.8999L233.8 76.1999ZM236.4 71.6999C237.5 72.9999 238.3 73.9999 239 74.6999L237.4 75.9999C236.8 75.0999 236 74.0999 235 72.7999L232.8 70.0999C231.7 68.6999 230.7 67.5999 229.9 66.7999L231.5 65.4999C232.1 66.3999 233 67.4999 234.1 68.8999L236.4 71.6999ZM243.3 74.5999C242.7 75.0999 242.2 75.5999 241.6 76.1999L240.1 74.2999L242.3 72.4999L234.6 63.0999L232.5 64.7999L231 62.8999C231.6 62.4999 232.2 62.0999 232.7 61.6999C233.2 61.2999 233.8 60.7999 234.4 60.0999L245.1 73.1999C244.4 73.6999 243.9 74.1999 243.3 74.5999ZM239.5 66.2999C239.9 65.3999 240.3 64.1999 240.6 62.5999C241.3 62.9999 242 63.1999 242.7 63.1999C242.2 65.2999 241.9 66.5999 241.7 67.0999C241 66.7999 240.3 66.4999 239.5 66.2999Z" },
  { d: "M62.9 116.6L43.8 116.6C46.9 101.6 53.6 88 62.9 76.5L62.9 116.6Z" },
  { d: "M62.9 177.5L51.5 177.5C45.3 164.9 41.8 150.8 41.8 135.8C41.8 131.6 42.1 127.6 42.6 123.6L62.9 123.6L62.9 177.5Z" },
  { d: "M69.9 68.8C78.1 60.8 87.7 54.2 98.3 49.6L98.3 116.6L69.9 116.6L69.9 68.8Z" },
  { d: "M69.9 123.6 H98.3 V177.5 H69.9 Z" },
  { d: "M55.4 184.5L98.4 184.5L98.4 222.1C80.4 214.3 65.4 201.1 55.4 184.5Z" },
  { d: "M105.3 142.6L136.3 142.6L136.3 229.9C136.1 229.9 136 229.9 135.8 229.9C125.1 229.9 114.8 228.1 105.3 224.8L105.3 142.6Z" },
  { d: "M135.9 41.7999C145.1 41.7999 154 43.0999 162.4 45.5999L162.4 89.4999L105.4 89.4999L105.4 46.8999C114.9 43.5999 125.2 41.7999 135.9 41.7999Z" },
  { d: "M105.3 96.5L162.3 96.5L162.3 226.1C156.2 227.9 149.8 229.1 143.3 229.6L143.3 135.6L105.3 135.6L105.3 96.5Z" },
  { d: "M199.6 66.6999L169.3 66.6999L169.3 47.8999C180.6 52.2999 190.9 58.6999 199.6 66.6999Z" },
  { d: "M217.7 89.5L169.3 89.5L169.3 73.7L206.4 73.7C210.7 78.5999 214.5 83.8999 217.7 89.5Z" },
  { d: "M169.3 165.6L225.1 165.6C216.2 192.4 195.6 213.8 169.3 223.8L169.3 165.6Z" },
  { d: "M229.9 135.9C229.9 143.7 228.9 151.3 227.1 158.6L169.3 158.6L169.3 96.6L221.3 96.6C226.8 108.5 229.9 121.8 229.9 135.9Z" },
  { d: "M23.7 176.3C24.4 178.2 25.7 179.1 27.6 179L27.4 180.9C26.2 181 25.2 180.7 24.2 180C23.2 179.3 22.5 178.3 22.1 177C21.6 175.7 21.6 174.4 21.9 173.2C22.2 172 22.9 170.9 23.9 169.9C24.9 168.9 26.2 168.2 27.7 167.6C29.3 167.1 30.7 166.8 32.1 167C33.5 167.1 34.7 167.6 35.7 168.4C36.7 169.2 37.5 170.2 37.9 171.5C38.4 172.9 38.5 174.1 38.1 175.2C37.7 176.3 37.2 177.2 36.2 177.9L34.9 176.5C36.4 175.4 36.9 173.9 36.2 172C35.9 171.1 35.3 170.4 34.6 169.9C33.8 169.4 32.9 169.1 31.8 169.1C30.7 169.1 29.6 169.2 28.3 169.7C27.1 170.1 26.1 170.7 25.2 171.4C24.4 172.1 23.8 172.9 23.6 173.8C23.4 174.5 23.4 175.4 23.7 176.3Z" },
  { d: "M41.3 180.2L26.5 187L25.6 185.1L40.4 178.3L41.3 180.2Z" },
  { d: "M45.8 192.5L43.7 188.7L31.1 195.8L30.1 194L42.7 186.9L40.6 183.1L42.2 182.2L47.5 191.7L45.8 192.5Z" },
  { d: "M44.3 203.8L38.9 207.8L37.7 206.1L43.1 202.2L47.6 192L49 193.9L45.2 202L54.1 200.9L55.4 202.7L44.3 203.8Z" },
  { d: "M52.1 223.2C51.2 222.3 50.6 221.4 50.2 220.4C49.8 219.4 49.8 218.4 50.1 217.4C50.4 216.4 50.9 215.4 51.8 214.5L59 207L60.4 208.4L53.3 215.8C52.3 216.8 51.9 217.8 51.9 218.9C51.9 220 52.4 221 53.3 221.9C54.3 222.8 55.3 223.3 56.4 223.2C57.5 223.2 58.5 222.6 59.5 221.6L66.6 214.2L68.1 215.6L60.9 223.1C59.9999 224 59.1 224.6 58.1 224.9C57.1 225.2 56.1 225.2 55.1 224.9C54 224.6 53 224 52.1 223.2Z" },
  { d: "M79.8 224.2L70.3 237.4L68.9 236.4L69.4 220.8L61.8 231.4L60.3 230.3L69.8 217.1L71.6 218.4L71.1 233.2L78.3 223.2L79.8 224.2Z" },
  { d: "M84 226.6L75.8 240.7L74 239.6L82.2 225.5L84 226.6Z" },
  { d: "M97.9 233.4L85.8 245.7L83.6 244.7L85.3 227.5L87.3 228.5L85.5 243.6L95.9 232.5L97.9 233.4Z" },
  { d: "M100.4 236.1L98.8 240.9L105.3 243L104.7 244.7L98.2 242.6L96.3999 248.1L103.3 250.4L102.7 252.1L93.8 249.2L98.8999 233.7L107.8 236.6L107.2 238.3L100.4 236.1Z" },
  { d: "M112.6 247.5L110.2 247L108.9 253.6L106.8 253.2L110 237.3L116 238.5C116.9 238.7 117.7 239 118.3 239.6C118.9 240.1 119.3 240.8 119.6 241.6C119.8 242.4 119.8 243.2 119.7 244.2C119.4 245.5 118.9 246.5 118 247.2C117.2 247.9 116.1 248.2 114.9 248.1L118.4 255.7L115.9 255.2L112.6 247.5ZM110.5 245.3L114 246C114.9 246.2 115.7 246.1 116.3 245.7C116.9 245.3 117.3 244.6 117.5 243.6C117.7 242.7 117.6 241.9 117.2 241.3C116.8 240.7 116.2 240.3 115.2 240.1L111.7 239.4L110.5 245.3Z" },
  { d: "M122.1 243.8C122.2 242.9 122.4 242.2 122.9 241.5C123.4 240.9 124 240.4 124.8 240.1C125.6 239.8 126.5 239.7 127.6 239.8C128.9 239.9 130 240.3 130.8 240.9C131.6 241.5 132.2 242.3 132.4 243.4L130.6 244.1C130.2 242.6 129.2 241.8 127.4 241.7C126.4 241.6 125.6 241.8 125 242.2C124.4 242.6 124.1 243.2 124.1 244C124.1 244.5 124.1 244.9 124.3 245.3C124.5 245.6 124.8 246 125.3 246.2C125.8 246.5 126.4 246.7 127.3 247C129.1 247.5 130.3 248.2 131 249C131.7 249.8 132 250.9 131.9 252.3C131.8 253.2 131.5 254 131 254.7C130.5 255.4 129.8 255.9 128.9 256.2C128 256.5 127.1 256.7 126 256.6C124.6 256.5 123.4 256.1 122.5 255.4C121.6 254.7 121 253.8 120.7 252.6L122.5 251.9C122.7 252.8 123.1 253.4 123.8 253.9C124.4 254.4 125.2 254.7 126.2 254.8C127.3 254.9 128.1 254.7 128.8 254.2C129.5 253.7 129.8 253.1 129.9 252.1C129.9 251.5 129.9 251.1 129.7 250.7C129.5 250.3 129.1 249.9 128.6 249.6C128.1 249.3 127.3 249 126.4 248.7C124.8 248.2 123.6 247.6 122.9 246.8C122.3 246 122 245 122.1 243.8Z" },
  { d: "M137.3 240.3L137.4 256.6L135.3 256.6L135.2 240.3L137.3 240.3Z" },
  { d: "M150.3 241.3L146 241.7L147.2 256.1L145.1 256.3L143.9 241.9L139.5 242.3L139.3 240.5L150.1 239.6L150.3 241.3Z" },
  { d: "M159.9 247.3L161.3 253.9L159.3 254.3L157.9 247.8L150.5 239.6L152.8 239.1L158.6 245.9L161.2 237.3L163.4 236.8L159.9 247.3Z" },
  { d: "M181.1 248C179.8 248.5 178.6 248.6 177.3 248.4C176.1 248.1 174.9 247.5 173.9 246.6C172.9 245.6 172.1 244.4 171.5 242.9C170.9 241.4 170.6 239.9 170.7 238.5C170.8 237.1 171.2 235.9 171.9 234.8C172.6 233.7 173.6 233 174.9 232.4C176.2 231.9 177.4 231.8 178.7 232C180 232.2 181.1 232.9 182.1 233.8C183.1 234.8 183.9 236 184.5 237.5C185.1 239 185.4 240.4 185.3 241.8C185.2 243.2 184.8 244.4 184.1 245.5C183.4 246.7 182.4 247.5 181.1 248ZM180.5 246.4C181.4 246 182.1 245.5 182.6 244.7C183.1 243.9 183.3 243 183.3 241.9C183.3 240.8 183.1 239.7 182.6 238.5C182.1 237.3 181.5 236.3 180.7 235.5C179.9 234.7 179.1 234.2 178.2 234C177.3 233.8 176.4 233.8 175.5 234.2C174.6 234.6 173.9 235.1 173.4 235.9C172.9 236.7 172.7 237.6 172.7 238.7C172.7 239.8 172.9 240.9 173.4 242.1C173.9 243.3 174.5 244.3 175.3 245.1C176.1 245.9 176.9 246.4 177.8 246.6C178.7 246.8 179.6 246.7 180.5 246.4Z" },
  { d: "M185.8 229.7L188.4 234.3L194.2 231.1L195.1 232.7L189.3 235.9L192.9 242.4L191.1 243.4L183.2 229.2L191.2 224.7L192.1 226.3L185.8 229.7Z" },
  { d: "M212 208.2L219.3 223.4L217.7 224.8L206.1 217L212.2 229.7L210.6 231.1L196.7 221.6L198.3 220.2L209.6 228.2L203.5 215.5L205.1 214.1L216.8 222.1L210.4 209.6L212 208.2Z" },
  { d: "M229.1 212.9C228.3 213.9 227.4 214.6 226.4 215C225.4 215.4 224.4 215.5 223.4 215.3C222.4 215.1 221.4 214.6 220.4 213.8L212.4 207.2L213.6 205.7L221.6 212.3C222.7 213.2 223.8 213.6 224.8 213.5C225.9 213.4 226.8 212.9 227.7 211.9C228.5 210.9 228.9 209.8 228.8 208.8C228.7 207.8 228.1 206.7 227 205.8L219.1 199.3L220.4 197.7L228.4 204.3C229.4 205.1 230 206 230.4 206.9C230.8 207.9 230.9 208.9 230.6 209.9C230.5 210.9 229.9 211.9 229.1 212.9Z" },
  { d: "M228.1 185.2L242 193.7L240.9 195.5L234.4 191.5L230.1 198.5L236.6 202.5L235.5 204.3L221.6 195.8L222.7 194L228.5 197.6L232.8 190.6L227 187L228.1 185.2Z" },
  { d: "M243.3 179.6L240.7 185.4L244.4 188.7L243.6 190.6L231 178.8L232 176.6L249.2 177.9L248.3 180L243.3 179.6ZM241.4 179.4L233.2 178.6L239.4 184.1L241.4 179.4Z" },
  { d: "M238 158.5L253.6 163L253.1 164.7L238.2 169.5L250.7 173.1L250.2 174.9L234.6 170.4L235.2 168.2L249.3 163.7L237.4 160.3L238 158.5Z" }
];

const LoadingScreen: React.FC<LoadingScreenProps> = ({ onFinished }) => {
  const [isExiting, setIsExiting] = useState(false);
  const { theme } = useTheme();

  // Theme-based colors
  const isDark = theme === 'dark';
  const bgColor = isDark ? '#0f172a' : '#fdfdfd';
  const primaryColor = isDark ? '#6ee7b7' : '#394E28';
  const secondaryColor = isDark ? '#0f172a' : '#FFFFFF';
  const textColor = isDark ? '#e2e8f0' : '#394E28';

  useEffect(() => {
    const exitTimer = setTimeout(() => {
      setIsExiting(true);
    }, 4200);

    const finishTimer = setTimeout(() => {
      onFinished();
    }, 5000);

    return () => {
      clearTimeout(exitTimer);
      clearTimeout(finishTimer);
    };
  }, [onFinished]);

  return (
    <div
      className={`fixed inset-0 z-50 flex flex-col items-center justify-center transition-opacity duration-1000 ease-[cubic-bezier(0.76,0,0.24,1)] ${isExiting ? 'opacity-0 pointer-events-none' : 'opacity-100'
        }`}
      style={{ backgroundColor: bgColor }}
    >
      <div className="relative w-56 h-56 md:w-72 md:h-72 flex items-center justify-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 271.8 271.8"
          className="w-full h-full drop-shadow-2xl"
        >
          <defs>
            <style>
              {`
                .anim-circle-outer {
                  transform-origin: center;
                  animation: popIn 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                  opacity: 0;
                }
                .anim-circle-inner {
                  transform-origin: center;
                  animation: popIn 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
                  animation-delay: 0.1s;
                  opacity: 0;
                }
                
                .anim-shape {
                  stroke-width: 0.8px;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                  stroke-dasharray: 1000;
                  stroke-dashoffset: 1000;
                  fill-opacity: 0;
                  opacity: 0;
                }

                @keyframes popIn {
                  0% { opacity: 0; transform: scale(0.6); }
                  100% { opacity: 1; transform: scale(1); }
                }

                @keyframes sequentialDraw {
                  0% {
                    opacity: 0;
                    stroke-dashoffset: 1000;
                    fill-opacity: 0;
                  }
                  10% {
                    opacity: 1;
                  }
                  50% {
                    stroke-dashoffset: 0;
                    fill-opacity: 0;
                  }
                  100% {
                    opacity: 1;
                    stroke-dashoffset: 0;
                    fill-opacity: 1;
                    stroke-width: 0;
                  }
                }
              `}
            </style>
          </defs>

          <circle className="anim-circle-outer" cx="135.9" cy="135.9" r="135.9" fill={primaryColor}></circle>
          <circle className="anim-circle-inner" cx="135.9" cy="135.9" r="130.7" fill={secondaryColor}></circle>

          <g>
            {logoShapes.map((shape, index) => (
              <path
                key={index}
                d={shape.d}
                className="anim-shape"
                fill={primaryColor}
                stroke={primaryColor}
                style={{
                  animation: `sequentialDraw 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards`,
                  animationDelay: `${0.8 + index * 0.05}s`
                }}
              />
            ))}
          </g>
        </svg>
      </div>

      <div className="mt-12 flex flex-col items-center z-10">
        <div className="overflow-hidden opacity-0 translate-y-8"
          style={{
            animation: 'textSlideUp 1.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards',
            animationDelay: '3.0s'
          }}>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 366.015625 66.5625"
            className="w-48 md:w-72 h-auto"
          >
            <g>
              <text transform="translate(-3.75, 0.234375)">
                <tspan x="0" y="51.09375" fontSize="60" fill={textColor} fontFamily="草檀斋毛泽东字体, MaoZedong, STKaiti, KaiTi, serif" letterSpacing="2">武汉城市学院</tspan>
              </text>
            </g>
          </svg>
        </div>
        <div className="overflow-hidden mt-3">
          <p
            className="text-sm md:text-lg font-medium tracking-[0.3em] uppercase opacity-0 translate-y-4"
            style={{
              animation: 'textSlideUp 1.2s cubic-bezier(0.2, 0.8, 0.2, 1) forwards',
              animationDelay: '3.2s',
              color: textColor
            }}
          >
            City University of Wuhan
          </p>
        </div>
      </div>

      <style>{`
        @keyframes textSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
      `}</style>
    </div>
  );
};

export default LoadingScreen;
