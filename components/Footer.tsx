
import React, { useState } from 'react';
import {
  Heart, Phone, MapPin, Mail, ChevronDown,
  Github, MessageCircle, Globe, ExternalLink,
  BookOpen, Calendar, Map as MapIcon, Users
} from 'lucide-react';
import { motion, AnimatePresence } from 'framer-motion';
import { Link } from 'react-router-dom';
import { useLanguage } from '../LanguageContext';
import { userService, UserAvatarVO } from '../services/userService';
import { Avatar, AvatarImage, AvatarFallback } from "@/components/ui/avatar";

// --- Sub-components ---

interface SocialLinkProps {
  href: string;
  icon: React.ReactNode;
  label: string;
}

const SocialLink: React.FC<SocialLinkProps> = ({ href, icon, label }) => (
  <a
    href={href}
    target="_blank"
    rel="noopener noreferrer"
    aria-label={label}
    className="w-8 h-8 flex items-center justify-center rounded-full bg-slate-200 dark:bg-slate-800 text-slate-500 dark:text-slate-400 hover:bg-wic-primary hover:text-white transition-all duration-300"
  >
    {icon}
  </a>
);

interface FooterSectionProps {
  title: string;
  children: React.ReactNode;
}

const FooterSection: React.FC<FooterSectionProps> = ({ title, children }) => {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <div className="border-b border-slate-200 dark:border-slate-800 lg:border-none last:border-none">
      {/* Mobile Toggle / Desktop Title */}
      <button
        onClick={() => setIsOpen(!isOpen)}
        className="w-full flex items-center justify-between py-4 lg:py-0 lg:mb-6 text-left group"
      >
        <h3 className="font-bold text-slate-900 dark:text-white text-base lg:text-sm lg:uppercase lg:tracking-wider">
          {title}
        </h3>
        {/* Chevron only on Mobile */}
        <ChevronDown
          size={16}
          className={`lg:hidden text-slate-400 transition-transform duration-300 ${isOpen ? 'rotate-180' : ''}`}
        />
      </button>

      {/* Mobile Accordion Content */}
      <div className="lg:hidden">
        <AnimatePresence>
          {isOpen && (
            <motion.div
              initial={{ height: 0, opacity: 0 }}
              animate={{ height: 'auto', opacity: 1 }}
              exit={{ height: 0, opacity: 0 }}
              transition={{ duration: 0.3, ease: 'easeInOut' }}
              className="overflow-hidden"
            >
              <div className="pb-6 space-y-3">
                {children}
              </div>
            </motion.div>
          )}
        </AnimatePresence>
      </div>

      {/* Desktop Static Content (Always Visible) */}
      <div className="hidden lg:block space-y-3">
        {children}
      </div>
    </div>
  );
};

interface FooterLinkProps {
  href: string;
  children: React.ReactNode;
  icon?: React.ReactNode;
  external?: boolean;
}

const FooterLink: React.FC<FooterLinkProps> = ({ href, children, icon, external }) => {
  const content = (
    <>
      {icon && <span className="mr-2 text-slate-400 group-hover:text-wic-primary transition-colors">{icon}</span>}
      <span>{children}</span>
      {external && <ExternalLink size={12} className="ml-1 opacity-0 group-hover:opacity-100 transition-opacity" />}
    </>
  );

  const className = "group flex items-center text-sm text-slate-600 dark:text-slate-400 hover:text-wic-primary dark:hover:text-wic-accent transition-colors py-1 lg:py-0";

  if (external) {
    return (
      <a href={href} target="_blank" rel="noopener noreferrer" className={className}>
        {content}
      </a>
    );
  }

  return (
    <Link to={href} className={className}>
      {content}
    </Link>
  );
};

const UserAvatarList: React.FC = () => {
  const [users, setUsers] = React.useState<UserAvatarVO[]>([]);

  React.useEffect(() => {
    const fetchUsers = async () => {
      try {
        const res = await userService.getUsersWithAvatar();
        if ((res.code === 0 || res.code === 200) && res.data) {
          setUsers(res.data.slice(-8)); // Limit to last 8
        }
      } catch (error) {
        console.error("Failed to fetch user avatars", error);
      }
    };
    fetchUsers();
  }, []);

  if (users.length === 0) return null;

  return (
    <div className="flex -space-x-2 overflow-hidden py-2 pl-1">
      {users.map((user) => (
        <Link to={`/user/${user.studentId}`} key={user.studentId} title={user.name || 'User'}>
          <Avatar className="inline-block h-8 w-8 rounded-full ring-2 ring-white dark:ring-slate-900 transition-transform hover:scale-110 hover:z-10 bg-slate-200 dark:bg-slate-800">
            <AvatarImage src={user.avatar} alt={user.name || 'User'} />
            <AvatarFallback>{(user.name || 'Wiki').slice(0, 2)}</AvatarFallback>
          </Avatar>
        </Link>
      ))}
    </div>
  );
};

// --- Main Component ---

const Footer: React.FC = () => {
  const { t } = useLanguage();

  return (
    <footer className="bg-slate-50 dark:bg-slate-950 border-t-4 border-wic-primary transition-colors pt-10 pb-6">
      <div className="max-w-7xl mx-auto px-6 lg:px-8">

        {/* Main Grid Layout */}
        <div className="grid grid-cols-1 lg:grid-cols-4 gap-x-12 gap-y-6 lg:gap-y-0 mb-8">

          {/* Column 1: Brand Info (Always Visible) */}
          <div className="text-center lg:text-left space-y-2 mb-2 lg:mb-0">
            <Link to="/" className="inline-block group">
              <div className="flex flex-col lg:flex-row items-center lg:items-end gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" xmlnsXlink="http://www.w3.org/1999/xlink" width="539" height="140" viewBox="0 0 539 140" fill="none" className="h-10 w-auto dark:invert dark:opacity-90 transition-transform group-hover:scale-105 duration-300">
                  <defs>
                    <style>{`
                            @font-face {
                                font-family: '草檀斋毛泽东字体';
                                src: url('https://r2.wic.edu.kg/fonts/maozedong-1.woff2') format('woff2');
                                font-display: swap;
                            }

                            @font-face {
                                font-family: 'MaoZedong';
                                src: url('https://r2.wic.edu.kg/fonts/maozedong.woff2') format('woff2');
                                font-display: swap;
                            }

                            @font-face {
                                font-family: 'Century Schoolbook';
                                src: url('https://r2.wic.edu.kg/fonts/century-schoolbook-1.woff2') format('woff2');
                                font-display: swap;
                            }
                        `}</style>
                  </defs>
                  <g clipPath="url(#clip-path-0_1)">
                    <path d="M67.7168 6.36789C32.4404 6.36789 3.79608 34.8938 3.79608 70.129C3.79608 105.317 32.3934 133.89 67.7168 133.89C103.04 133.89 131.637 105.364 131.637 70.129C131.59 34.8938 102.993 6.36789 67.7168 6.36789ZM67.7168 131.45C33.7574 131.45 6.24191 104.004 6.24191 70.129C6.24191 36.2544 33.7574 8.80761 67.7168 8.80761C101.676 8.80761 129.192 36.2544 129.192 70.129C129.192 104.004 101.676 131.45 67.7168 131.45Z" fill="#394E28"></path>
                    <path d="M20.1173 38.6002C19.5999 39.2571 19.0825 39.9139 18.5181 40.6177C18.0007 41.2745 17.5304 41.9783 17.013 42.6821L16.1664 42.0252C16.7308 41.3215 17.2952 40.6177 17.7655 39.9609C18.2829 39.2571 18.7533 38.6002 19.2236 37.9434L20.1173 38.6002ZM22.2339 38.5064C21.6695 38.1311 21.1521 37.8026 20.6817 37.4742C20.2114 37.1458 19.647 36.7704 18.9414 36.2544L19.741 35.1752C20.1643 35.6444 20.6347 36.0667 21.1991 36.489C21.7635 36.9112 22.3279 37.2865 22.8924 37.6619L23.9271 36.3013C24.3505 35.7383 24.7738 35.1283 25.1971 34.5184L25.9967 35.1283C25.5263 35.6913 25.103 36.2544 24.6797 36.8174L23.6449 38.178C24.9149 38.9756 26.0437 39.5386 27.0315 39.7732C28.0192 40.0078 28.8658 40.1485 29.5714 40.1485C30.2769 40.1485 30.6061 39.9609 30.5591 39.6793C30.465 39.3509 30.1828 38.9756 29.6654 38.5533C30.1828 38.5064 30.6061 38.3657 31.0294 38.1311C31.782 39.1163 32.1583 39.7732 32.1583 40.1954C32.1583 40.5708 31.829 40.8523 31.1705 41.04C30.5121 41.2276 29.8065 41.3215 29.148 41.2745C28.4895 41.2276 27.8781 41.1807 27.2666 41.04C26.7022 40.8992 26.0908 40.6646 25.4323 40.3831C24.7738 40.1016 23.9742 39.6324 23.0805 39.0225L21.4813 41.1807L23.2216 42.4475C23.692 41.7906 24.1153 41.2276 24.4445 40.7115L25.2912 41.3684C24.8678 41.8845 24.3975 42.4475 23.9742 43.0105L26.0437 44.5588C26.5611 43.5266 26.9844 42.7759 27.2666 42.2129C27.4548 42.4006 27.737 42.6352 28.1133 42.9167C27.4548 44.0427 26.8433 45.2626 26.1848 46.5293C25.5263 47.843 25.103 48.8283 24.8678 49.5321C24.4916 49.2975 24.0682 49.1098 23.5038 48.969C23.739 48.6406 23.9742 48.2653 24.2094 47.7961L21.8106 46.0132C21.3402 45.6379 20.8228 45.3095 20.3525 45.028L21.105 44.0427C21.5284 44.418 21.9987 44.7465 22.422 45.1218L24.7738 46.9047L25.4793 45.591L20.7758 42.0721L19.8821 43.2451C19.4118 43.9019 18.9414 44.5119 18.5181 45.2156L17.7185 44.6057C18.2359 43.9958 18.7063 43.3858 19.1766 42.729L22.2339 38.5064ZM23.692 34.0961C23.692 34.5184 23.739 34.9407 23.786 35.316C23.3627 35.316 22.6572 35.4098 21.6224 35.6444C21.6224 35.316 21.5754 34.9407 21.4343 34.5653C22.375 34.3307 23.1275 34.19 23.692 34.0961Z" fill="#394E28"></path>
                    <path d="M33.4282 24.7597C33.3341 25.2288 33.3341 25.6042 33.3341 25.9795C32.2993 25.7918 31.3116 25.698 30.3239 25.698C30.4179 25.2288 30.465 24.8535 30.4179 24.6189C31.4527 24.6189 32.4404 24.6658 33.4282 24.7597ZM34.9333 27.8562C34.8863 28.2785 34.8392 28.6538 34.8392 29.123C33.7574 28.9822 32.7226 28.9822 31.6879 29.0292C31.7349 28.6069 31.7349 28.2316 31.6879 27.8562C32.4875 27.8093 33.5693 27.8093 34.9333 27.8562ZM33.8985 24.6658L33.3341 23.7744C34.1337 23.3052 34.7922 22.8829 35.4036 22.5545L40.0131 19.5987C40.5775 21.1001 41.0008 22.5545 41.3301 23.962C41.6593 25.3696 41.8004 26.6833 41.8004 27.9031C42.553 28.1377 43.4466 28.2785 44.3403 28.3254C45.281 28.3723 46.1276 28.3723 46.9743 28.2785C46.7861 28.6069 46.6921 29.0761 46.6921 29.6391C46.0806 29.6391 45.234 29.5922 44.2462 29.4514C43.2585 29.3107 42.3648 29.123 41.5652 28.8415C41.4241 29.7329 41.189 30.6713 40.8127 31.5627C40.4364 32.5011 40.0601 33.3925 39.5427 34.3309C39.2605 34.1432 38.8842 34.0024 38.3198 33.9086C38.7902 33.3456 39.2135 32.5949 39.6838 31.6566C40.1071 30.7182 40.4364 29.6391 40.6245 28.5131C39.6368 28.0908 38.6491 27.4809 37.7554 26.7302C36.8147 25.9795 35.827 25.0881 34.7922 24.009C34.4629 24.2905 34.1807 24.4781 33.8985 24.6658ZM37.1439 35.2692C36.7677 35.1754 36.3443 35.1754 35.827 35.2223C35.874 34.3309 35.874 33.3925 35.7799 32.4542C35.6859 31.4689 35.5918 30.6713 35.4507 29.9206C35.874 30.0614 36.2973 30.1083 36.6266 30.1083C36.8147 32.0319 37.0028 33.7679 37.1439 35.2692ZM38.2257 25.8388C39.2135 26.6364 40.0601 27.1525 40.7186 27.387C40.7186 26.6833 40.6245 25.8388 40.3894 24.7127C40.1542 23.6336 39.8249 22.4138 39.3076 21.1001L36.0621 23.1644L35.6859 23.399C36.3914 24.2905 37.238 25.0881 38.2257 25.8388Z" fill="#394E28"></path>
                    <path d="M53.136 24.1966C52.5715 24.525 52.0542 24.9003 51.6308 25.2757C51.3957 24.8065 51.1605 24.4312 50.9253 24.1027C51.3016 24.0089 51.819 23.8212 52.4775 23.4459L51.5368 18.9418C51.0194 19.0356 50.549 19.1764 50.0787 19.3171L49.8905 18.3319C50.3609 18.2849 50.8312 18.1911 51.3486 18.0973L50.9253 16.0798C50.8312 15.6575 50.7372 15.1884 50.549 14.6254L51.6779 14.3908C51.7249 14.86 51.819 15.376 51.9131 15.8452L52.3364 17.8627C52.7597 17.7688 53.23 17.675 53.6533 17.5343L53.8415 18.5195C53.3711 18.5664 52.9478 18.6603 52.4775 18.7541L53.3711 22.9298C53.7474 22.789 54.1707 22.5544 54.6411 22.2729C54.6881 22.6483 54.7351 22.9767 54.7822 23.3051C54.2648 23.5397 53.7004 23.8681 53.136 24.1966ZM62.3548 17.0182C62.2608 17.5812 62.2137 18.1442 62.2137 18.801C62.2137 19.411 62.1667 20.0678 62.0726 20.7247C61.9786 21.3815 61.8845 21.8976 61.7904 22.2729C62.3078 22.8829 62.6841 23.2113 63.0133 23.3051C63.2955 23.399 63.3896 22.9298 63.2955 21.9445C63.7188 22.226 64.0951 22.3668 64.4714 22.4606C64.4714 23.1175 64.3773 23.6805 64.2362 24.1966C64.0951 24.7127 63.8129 24.9003 63.4366 24.7596C63.0604 24.6657 62.6841 24.4312 62.3078 24.1496C61.9315 23.8681 61.6023 23.5397 61.3201 23.2113C61.0849 23.6335 60.8497 24.1027 60.5205 24.525C60.1912 24.9942 59.862 25.4164 59.4387 25.7918C59.1094 25.4633 58.7331 25.2288 58.3568 25.088C58.8742 24.6657 59.3446 24.2435 59.6738 23.7743C60.0501 23.352 60.3323 22.8359 60.5675 22.2729C60.0501 21.4753 59.5798 20.4431 59.1564 19.2233C58.7331 18.0034 58.4509 16.9243 58.2157 16.0329L55.2996 16.6428L55.7229 18.6603L58.1217 18.1442C58.2157 18.6603 58.3098 19.2702 58.4509 19.9271L58.8742 22.226C59.0153 22.8829 58.9213 23.352 58.6391 23.6335C58.3098 23.9151 57.8865 24.1496 57.3691 24.3842C57.181 23.9151 56.9928 23.5397 56.7106 23.1644C57.3221 23.0236 57.6984 22.8829 57.8395 22.7421C57.9335 22.6014 57.9806 22.3668 57.8865 22.0853L57.3691 19.2233L55.9581 19.5048C56.0521 20.0678 56.1932 20.6777 56.2873 21.3815C56.3814 22.0853 56.3343 22.8359 56.1932 23.6805C56.0521 24.525 55.6758 25.4164 55.1585 26.3548C54.8292 26.1671 54.4529 26.0733 53.9826 25.9794C54.547 25.088 54.9703 24.2435 55.1114 23.4928C55.2996 22.7421 55.3466 21.9914 55.2525 21.3346C55.1585 20.6777 55.0174 19.7863 54.7822 18.7541C54.547 17.6281 54.3118 16.6897 54.1237 15.8921L58.0276 15.0945C57.8865 14.3908 57.6513 13.5463 57.3691 12.6079C57.7924 12.6079 58.2157 12.561 58.6391 12.4671C58.6391 13.124 58.7802 13.9216 59.0153 14.86L59.862 14.6723C60.6616 14.4846 61.4612 14.2969 62.2608 14.1093L62.4959 15.1884C61.6963 15.3291 60.8967 15.4699 60.0971 15.6106L59.2976 15.7514C59.4857 16.549 59.7679 17.4404 60.0501 18.3319C60.3323 19.2233 60.7086 20.1616 61.179 21.0531C61.273 20.4431 61.3201 19.7863 61.3201 18.9887C61.3201 18.238 61.273 17.4404 61.179 16.6428C61.4141 16.9243 61.8374 16.9712 62.3548 17.0182ZM61.6493 13.6401C61.273 13.9216 60.9908 14.2031 60.8497 14.4377C60.3794 13.9216 59.862 13.4055 59.2976 12.9363C59.5798 12.7487 59.8149 12.4671 60.0501 12.1856C60.8027 12.7487 61.3201 13.2178 61.6493 13.6401Z" fill="#394E28"></path>
                    <path d="M81.2629 15.4699C82.1566 15.6107 83.1443 15.7514 84.1791 15.8922L83.991 17.0182C82.9562 16.8305 81.9685 16.6429 81.0748 16.5021L78.1586 16.0329L77.8294 17.9566L82.1566 18.6603C82.0155 19.3172 81.8744 20.0209 81.7803 20.7247L81.357 23.4928C81.2629 24.1497 80.9807 24.525 80.5104 24.6658C80.04 24.8065 79.4286 24.8535 78.629 24.8065C78.629 24.3374 78.5349 23.8682 78.3467 23.399C79.1463 23.5398 79.6167 23.5867 79.8519 23.5867C80.087 23.5867 80.1811 23.399 80.2752 23.0706L80.8396 19.4579L77.7353 18.9418L77.0298 23.3521C76.8887 24.2904 76.7476 25.088 76.7005 25.7918L75.4306 25.6041C75.5717 24.9473 75.7128 24.1497 75.8539 23.2113L76.5594 18.8011L73.4081 18.285L72.5144 23.7743L71.2915 23.5867C71.4326 22.9767 71.5737 22.273 71.7148 21.4754L72.044 19.411C72.1852 18.5665 72.2792 17.7689 72.3733 17.112L76.7476 17.8158L77.0768 15.8922L74.1606 15.423C73.1729 15.2822 72.1852 15.1415 71.2444 15.0007L71.4326 13.8747C72.4203 14.0624 73.361 14.25 74.3488 14.3908L81.2629 15.4699ZM78.723 14.3908C78.2997 14.5316 77.9234 14.6254 77.6412 14.7661C77.406 14.1093 77.0768 13.4525 76.6064 12.8425C76.9357 12.6549 77.2649 12.5141 77.5942 12.3734C77.9705 12.8894 78.3467 13.5932 78.723 14.3908Z" fill="#394E28"></path>
                    <path d="M99.7947 27.0586L99.1832 28.0908C98.6658 27.9031 98.1485 27.8562 97.6781 27.8562C97.1607 27.8562 96.5963 27.8093 95.9848 27.7624L95.7497 28.1846L98.854 29.9675C99.2303 30.2021 99.7476 30.4836 100.406 30.812L99.8417 31.7973C99.1832 31.375 98.7129 31.0935 98.3366 30.8589L95.2323 29.076L94.0564 31.0935C93.7742 31.5627 93.4449 31.7504 93.0216 31.6565C92.5983 31.5627 91.9398 31.3281 91.0932 30.9058C91.1873 30.4836 91.2343 30.0144 91.2343 29.5452L92.5513 30.2959C92.8805 30.4836 93.1627 30.3897 93.3509 30.0613L94.2445 28.513L90.858 26.5425C90.3406 26.261 89.7292 25.9326 89.0707 25.5572L89.6351 24.572C90.2936 24.9942 90.858 25.3696 91.3284 25.6041L94.7619 27.5747C94.903 27.2932 95.0441 27.0117 95.1852 26.6363L97.49 26.7771L94.7619 25.2288C94.1505 24.8535 93.3979 24.4781 92.5983 24.0559L93.1627 23.1175C93.8683 23.5867 94.5267 23.962 95.1852 24.3374L99.7947 27.0586ZM100.312 24.4312L103.04 25.9795C102.852 26.261 102.617 26.5894 102.382 26.9648C102.146 27.3401 101.958 27.7624 101.77 28.1377L100.735 27.5278L101.488 26.2141L92.9746 21.2877L92.175 22.6483L91.1402 22.0384C91.4224 21.6631 91.6576 21.2877 91.8928 20.8655C92.128 20.4901 92.3161 20.1148 92.4572 19.7864L99.3243 23.7274C99.8417 23.399 100.406 23.0706 100.971 22.7422C101.535 22.4137 102.052 22.0384 102.523 21.6161C102.899 22.2261 103.181 22.6483 103.369 22.9768C102.241 23.4459 101.253 23.8682 100.312 24.4312ZM95.9848 20.6778C95.4675 20.7247 95.0441 20.8185 94.7149 20.9124C94.6679 20.0209 94.4797 19.2233 94.1975 18.4257C94.7149 18.3788 95.0912 18.3319 95.3734 18.2381C95.6556 19.0826 95.8437 19.8802 95.9848 20.6778ZM99.1362 22.273C98.7129 22.3199 98.2896 22.3668 97.8192 22.3668C97.8662 21.71 97.8192 20.8655 97.6781 19.9271C98.1485 19.8802 98.5718 19.8802 98.901 19.8333C99.0421 21.0062 99.1362 21.8038 99.1362 22.273Z" fill="#394E28"></path>
                    <path d="M112.541 34.5184C111.789 34.7999 111.083 35.1283 110.331 35.3629C110.096 36.489 109.813 37.2866 109.531 37.7557C109.249 38.2249 108.873 38.5533 108.449 38.7879C107.979 39.0225 107.556 39.0694 107.085 38.9287C106.662 38.7879 106.192 38.5064 105.815 37.9903C106.145 37.7088 106.427 37.3804 106.662 37.005C107.038 37.615 107.367 37.8965 107.65 37.8496C107.932 37.8026 108.214 37.615 108.449 37.3335C108.684 37.052 108.92 36.6766 109.061 36.2074C109.202 35.7383 109.343 35.2222 109.437 34.6592C109.907 34.4715 110.472 34.2369 111.083 34.0023C111.695 33.7677 112.259 33.4862 112.824 33.2047L111.836 31.9849L103.04 39.1633L102.335 38.3187C102.899 37.8965 103.605 37.3335 104.404 36.7235L110.001 32.1725C110.66 31.6564 111.224 31.1403 111.789 30.6712L114.376 33.8146C113.858 34.0023 113.247 34.2369 112.541 34.5184ZM113.764 42.1191C114.188 42.6352 114.611 43.1043 114.987 43.5266L114.235 44.1365C113.905 43.6674 113.67 43.3389 113.529 43.1982L112.918 42.4475L110.143 44.6995C109.813 44.9811 109.719 45.2626 109.907 45.5441C110.096 45.8256 110.284 46.0132 110.425 46.2009C110.566 46.3417 110.754 46.4355 110.989 46.3886C111.177 46.3417 111.554 46.154 111.977 45.8256C112.024 46.2478 112.118 46.6232 112.259 46.9985C111.365 47.4677 110.754 47.6084 110.425 47.4208C110.096 47.2331 109.625 46.7639 109.061 46.0132C108.496 45.2626 108.59 44.6057 109.343 44.0427L112.259 41.6499L111.412 40.6177C110.707 41.2276 109.954 41.7437 109.202 42.0722C108.402 42.4006 107.697 42.4944 106.944 42.3537C106.239 42.2129 105.58 41.9783 104.969 41.603C105.11 41.2746 105.157 40.8992 105.11 40.3831C106.521 41.3215 107.603 41.603 108.449 41.2746C109.296 40.9461 110.048 40.43 110.801 39.7732C110.237 39.1163 109.813 38.6472 109.578 38.3657L110.331 37.7557C110.613 38.178 110.989 38.6472 111.412 39.1633L113.764 42.1191ZM114.987 40.0078C115.505 40.6177 115.881 41.0869 116.21 41.4153L115.458 42.0252C115.175 41.603 114.799 41.1338 114.329 40.5239L113.294 39.2571C112.777 38.6002 112.306 38.0842 111.93 37.7088L112.682 37.0989C112.965 37.5211 113.388 38.0372 113.905 38.6941L114.987 40.0078ZM118.233 41.4153C117.95 41.6499 117.715 41.8845 117.433 42.166L116.727 41.2746L117.762 40.43L114.141 36.0198L113.153 36.8174L112.447 35.9259C112.729 35.7383 113.012 35.5506 113.247 35.3629C113.482 35.1753 113.764 34.9407 114.046 34.6123L119.079 40.7585C118.75 40.993 118.515 41.1807 118.233 41.4153ZM116.445 37.5211C116.633 37.0989 116.822 36.5359 116.963 35.7852C117.292 35.9729 117.621 36.0667 117.95 36.0667C117.715 37.052 117.574 37.6619 117.48 37.8965C117.151 37.7088 116.822 37.5681 116.445 37.5211Z" fill="#394E28"></path>
                    <path d="M33.3812 61.0739L24.3975 61.0739C25.8556 54.0362 29.0069 47.6554 33.3812 42.2599L33.3812 61.0739Z" fill="#394E28"></path>
                    <path d="M33.3812 89.6467L28.0192 89.6467C25.103 83.7351 23.4568 77.1197 23.4568 70.0821C23.4568 68.1115 23.5979 66.2348 23.833 64.3581L33.3812 64.3581L33.3812 89.6467Z" fill="#394E28"></path>
                    <path d="M36.6736 38.6942C40.5305 34.9408 45.0459 31.8442 50.0316 29.686L50.0316 61.1209L36.6736 61.1209L36.6736 38.6942Z" fill="#394E28"></path>
                    <rect x="36.673614501953125" y="64.35813903808594" width="13.35797119140625" height="25.28863525390625" fill="#394E28"></rect>
                    <path d="M29.8535 92.9311L50.0787 92.9311L50.0787 110.572C41.6123 106.913 34.5571 100.719 29.8535 92.9311Z" fill="#394E28"></path>
                    <path d="M53.3242 73.2725L67.905 73.2725L67.905 114.232C67.811 114.232 67.7639 114.232 67.6699 114.232C62.6371 114.232 57.7925 113.387 53.3242 111.839L53.3242 73.2725Z" fill="#394E28"></path>
                    <path d="M67.7169 25.9795C72.0441 25.9795 76.2302 26.5894 80.1812 27.7624L80.1812 48.3592L53.3712 48.3592L53.3712 28.3723C57.8395 26.824 62.6841 25.9795 67.7169 25.9795Z" fill="#394E28"></path>
                    <path d="M53.3242 51.6435L80.1342 51.6435L80.1342 112.449C77.265 113.293 74.2548 113.856 71.1975 114.091L71.1975 69.9883L53.3242 69.9883L53.3242 51.6435Z" fill="#394E28"></path>
                    <path d="M97.6781 37.7089L83.4265 37.7089L83.4265 28.8884C88.7415 30.9058 93.5861 33.9085 97.6781 37.7089Z" fill="#394E28"></path>
                    <path d="M106.192 48.3592L83.4265 48.3592L83.4265 40.9462L100.877 40.9462C102.899 43.2452 104.686 45.7318 106.192 48.3592Z" fill="#394E28"></path>
                    <path d="M83.4265 84.0636L109.672 84.0636C105.486 96.6376 95.7967 106.678 83.4265 111.37L83.4265 84.0636Z" fill="#394E28"></path>
                    <path d="M111.93 70.1291C111.93 73.7887 111.459 77.3544 110.613 80.7794L83.4265 80.7794L83.4265 51.6904L107.885 51.6904C110.472 57.2736 111.93 63.5137 111.93 70.1291Z" fill="#394E28"></path>
                    <path d="M14.9434 89.0837C15.2726 89.9752 15.8841 90.3974 16.7778 90.3505L16.6837 91.2419C16.1193 91.2889 15.6489 91.1481 15.1786 90.8197C14.7082 90.4912 14.379 90.022 14.1908 89.4121C13.9557 88.8022 13.9557 88.1923 14.0968 87.6293C14.2379 87.0662 14.5671 86.5501 15.0375 86.081C15.5078 85.6118 16.1193 85.2834 16.8248 85.0019C17.5774 84.7673 18.2359 84.6265 18.8943 84.7204C19.5528 84.7673 20.1172 85.0019 20.5876 85.3772C21.0579 85.7525 21.4342 86.2217 21.6224 86.8317C21.8575 87.4885 21.9046 88.0515 21.7164 88.5676C21.5283 89.0837 21.2931 89.506 20.8228 89.8344L20.2113 89.1775C20.9168 88.6614 21.152 87.9577 20.8228 87.0662C20.6817 86.644 20.3994 86.3156 20.0702 86.081C19.6939 85.8464 19.2706 85.7056 18.7532 85.7056C18.2359 85.7056 17.7185 85.7525 17.107 85.9871C16.5426 86.1748 16.0722 86.4563 15.6489 86.7847C15.2726 87.1132 14.9904 87.4885 14.8964 87.9108C14.8023 88.2392 14.8023 88.6614 14.9434 89.0837Z" fill="#394E28"></path>
                    <path d="M23.2216 90.9605L16.2604 94.1509L15.8371 93.2595L22.7983 90.0691L23.2216 90.9605Z" fill="#394E28"></path>
                    <path d="M25.3382 96.6844L24.3504 94.9016L18.424 98.2327L17.9536 97.3882L23.8801 94.0571L22.8923 92.2742L23.6449 91.8519L26.1378 96.3091L25.3382 96.6844Z" fill="#394E28"></path>
                    <path d="M24.6326 101.986L22.0927 103.863L21.5283 103.065L24.0682 101.235L26.1848 96.4499L26.8433 97.3413L25.056 101.142L29.2421 100.626L29.8535 101.47L24.6326 101.986Z" fill="#394E28"></path>
                    <path d="M28.3014 111.088C27.8781 110.666 27.5959 110.244 27.4077 109.775C27.2196 109.305 27.2196 108.836 27.3607 108.367C27.5018 107.898 27.737 107.429 28.1603 107.006L31.5468 103.488L32.2053 104.144L28.8658 107.616C28.3955 108.085 28.2073 108.555 28.2073 109.071C28.2073 109.587 28.4425 110.056 28.8658 110.478C29.3362 110.901 29.8065 111.135 30.3239 111.088C30.8413 111.088 31.3116 110.807 31.782 110.338L35.1215 106.866L35.827 107.522L32.4405 111.041C32.0171 111.464 31.5938 111.745 31.1235 111.886C30.6531 112.027 30.1828 112.027 29.7124 111.886C29.1951 111.745 28.7247 111.464 28.3014 111.088Z" fill="#394E28"></path>
                    <path d="M41.3301 111.557L36.8618 117.751L36.2033 117.281L36.4385 109.962L32.8638 114.935L32.1583 114.419L36.6266 108.226L37.4733 108.836L37.2381 115.78L40.6246 111.088L41.3301 111.557Z" fill="#394E28"></path>
                    <path d="M43.3056 112.683L39.4487 119.299L38.6021 118.783L42.4589 112.167L43.3056 112.683Z" fill="#394E28"></path>
                    <path d="M49.8435 115.874L44.1522 121.645L43.1175 121.175L43.9171 113.106L44.8578 113.575L44.0111 120.659L48.9028 115.451L49.8435 115.874Z" fill="#394E28"></path>
                    <path d="M51.0194 117.141L50.2669 119.393L53.3241 120.378L53.0419 121.175L49.9846 120.19L49.138 122.771L52.3834 123.85L52.1012 124.647L47.9151 123.287L50.3139 116.014L54.5 117.375L54.2178 118.173L51.0194 117.141Z" fill="#394E28"></path>
                    <path d="M56.7576 122.489L55.6288 122.255L55.0173 125.351L54.0296 125.163L55.5347 117.704L58.3568 118.267C58.7801 118.36 59.1564 118.501 59.4386 118.783C59.7209 119.017 59.909 119.346 60.0501 119.721C60.1442 120.096 60.1442 120.472 60.0971 120.941C59.956 121.551 59.7209 122.02 59.2975 122.348C58.9213 122.677 58.4039 122.818 57.8394 122.771L59.4857 126.336L58.3098 126.102L56.7576 122.489ZM55.7699 121.457L57.4161 121.785C57.8394 121.879 58.2157 121.832 58.4979 121.645C58.7801 121.457 58.9683 121.129 59.0624 120.659C59.1564 120.237 59.1094 119.862 58.9213 119.58C58.7331 119.299 58.4509 119.111 57.9805 119.017L56.3343 118.689L55.7699 121.457Z" fill="#394E28"></path>
                    <path d="M61.226 120.753C61.273 120.331 61.3671 120.003 61.6023 119.674C61.8374 119.393 62.1197 119.158 62.4959 119.017C62.8722 118.876 63.2955 118.83 63.8129 118.876C64.4244 118.923 64.9418 119.111 65.3181 119.393C65.6943 119.674 65.9765 120.049 66.0706 120.566L65.224 120.894C65.0358 120.19 64.5655 119.815 63.7188 119.768C63.2485 119.721 62.8722 119.815 62.59 120.003C62.3078 120.19 62.1667 120.472 62.1667 120.847C62.1667 121.082 62.1667 121.269 62.2608 121.457C62.3548 121.598 62.4959 121.785 62.7311 121.879C62.9663 122.02 63.2485 122.114 63.6718 122.255C64.5184 122.489 65.0829 122.818 65.4121 123.193C65.7414 123.568 65.8825 124.084 65.8354 124.741C65.7884 125.163 65.6473 125.539 65.4121 125.867C65.1769 126.196 64.8477 126.43 64.4244 126.571C64.0011 126.712 63.5777 126.806 63.0604 126.759C62.4019 126.712 61.8374 126.524 61.4141 126.196C60.9908 125.867 60.7086 125.445 60.5675 124.882L61.4141 124.554C61.5082 124.976 61.6963 125.257 62.0256 125.492C62.3078 125.726 62.6841 125.867 63.1544 125.914C63.6718 125.961 64.0481 125.867 64.3774 125.633C64.7066 125.398 64.8477 125.117 64.8947 124.647C64.8947 124.366 64.8947 124.178 64.8007 123.991C64.7066 123.803 64.5184 123.615 64.2833 123.474C64.0481 123.334 63.6718 123.193 63.2485 123.052C62.4959 122.818 61.9315 122.536 61.6023 122.161C61.3201 121.785 61.179 121.316 61.226 120.753Z" fill="#394E28"></path>
                    <path d="M68.3753 119.111L68.4224 126.759L67.4346 126.759L67.3876 119.111L68.3753 119.111Z" fill="#394E28"></path>
                    <path d="M74.49 119.58L72.4674 119.768L73.0319 126.524L72.0441 126.618L71.4797 119.862L69.4102 120.049L69.3161 119.205L74.3959 118.783L74.49 119.58Z" fill="#394E28"></path>
                    <path d="M79.0053 122.395L79.6638 125.492L78.7231 125.68L78.0646 122.63L74.584 118.783L75.6658 118.548L78.3938 121.738L79.6167 117.704L80.6515 117.469L79.0053 122.395Z" fill="#394E28"></path>
                    <path d="M88.9767 122.724C88.3653 122.958 87.8009 123.005 87.1894 122.911C86.625 122.771 86.0606 122.489 85.5902 122.067C85.1199 121.598 84.7436 121.035 84.4614 120.331C84.1791 119.627 84.038 118.923 84.0851 118.267C84.1321 117.61 84.3203 117.047 84.6495 116.531C84.9788 116.015 85.4491 115.686 86.0606 115.405C86.672 115.17 87.2364 115.123 87.8479 115.217C88.4594 115.311 88.9767 115.639 89.4471 116.061C89.9174 116.531 90.2937 117.094 90.5759 117.797C90.8581 118.501 90.9992 119.158 90.9522 119.815C90.9052 120.472 90.7171 121.035 90.3878 121.551C90.0585 122.114 89.5882 122.489 88.9767 122.724ZM88.6945 121.973C89.1178 121.785 89.4471 121.551 89.6822 121.176C89.9174 120.8 90.0115 120.378 90.0115 119.862C90.0115 119.346 89.9174 118.83 89.6822 118.267C89.4471 117.704 89.1649 117.234 88.7886 116.859C88.4123 116.484 88.036 116.249 87.6127 116.155C87.1894 116.061 86.7661 116.061 86.3428 116.249C85.9195 116.437 85.5902 116.671 85.355 117.047C85.1199 117.422 85.0258 117.844 85.0258 118.36C85.0258 118.877 85.1199 119.393 85.355 119.956C85.5902 120.519 85.8724 120.988 86.2487 121.363C86.625 121.739 87.0013 121.973 87.4246 122.067C87.8479 122.161 88.2712 122.161 88.6945 121.973Z" fill="#394E28"></path>
                    <path d="M91.1874 114.138L92.4103 116.296L95.1383 114.795L95.5617 115.545L92.8336 117.047L94.5269 120.096L93.6802 120.566L89.9645 113.903L93.7273 111.792L94.1506 112.543L91.1874 114.138Z" fill="#394E28"></path>
                    <path d="M103.511 104.05L106.944 111.182L106.192 111.839L100.735 108.179L103.605 114.138L102.852 114.795L96.2672 110.291L97.0197 109.634L102.382 113.434L99.5126 107.475L100.265 106.819L105.768 110.572L102.758 104.707L103.511 104.05Z" fill="#394E28"></path>
                    <path d="M111.553 106.256C111.177 106.725 110.754 107.053 110.284 107.241C109.813 107.429 109.343 107.476 108.872 107.382C108.402 107.288 107.932 107.053 107.461 106.678L103.699 103.581L104.263 102.878L108.026 105.974C108.543 106.396 109.061 106.584 109.531 106.537C110.048 106.49 110.472 106.256 110.895 105.786C111.271 105.317 111.459 104.801 111.412 104.332C111.365 103.863 111.083 103.347 110.566 102.924L106.85 99.8748L107.461 99.1242L111.224 102.221C111.695 102.596 111.977 103.018 112.165 103.441C112.353 103.91 112.4 104.379 112.259 104.848C112.212 105.317 111.93 105.786 111.553 106.256Z" fill="#394E28"></path>
                    <path d="M111.083 93.2595L117.621 97.2475L117.104 98.092L114.046 96.2153L112.024 99.4995L115.081 101.376L114.564 102.221L108.026 98.2327L108.543 97.3882L111.271 99.0773L113.294 95.793L110.566 94.104L111.083 93.2595Z" fill="#394E28"></path>
                    <path d="M118.233 90.632L117.01 93.3533L118.75 94.9015L118.374 95.793L112.447 90.2567L112.918 89.2245L121.008 89.8344L120.584 90.8197L118.233 90.632ZM117.339 90.5851L113.482 90.2098L116.398 92.7903L117.339 90.5851Z" fill="#394E28"></path>
                    <path d="M115.74 80.7325L123.077 82.8438L122.842 83.6414L115.834 85.8934L121.713 87.5825L121.478 88.427L114.14 86.3157L114.423 85.2835L121.055 83.1722L115.457 81.577L115.74 80.7325Z" fill="#394E28"></path>
                    <g>
                      <text transform="translate(150, 5)">
                        <tspan x="0" y="51.09375" fontSize="60" lineHeight="0" fill="#000000" fontFamily="草檀斋毛泽东字体" letterSpacing="2">武汉城市学院</tspan>
                      </text>
                    </g>
                    <g>
                      <text transform="translate(150, 79)">
                        <tspan x="0" y="31.50390625" fontSize="26" lineHeight="43" fill="#000000" fontFamily="Century Schoolbook" letterSpacing="2">City</tspan>
                        <tspan x="59.0478515625" y="31.50390625" fontSize="26" lineHeight="43" fill="#000000" fontFamily="Roboto-Regular" letterSpacing="8"></tspan>
                        <tspan x="73.484375" y="31.50390625" fontSize="26" lineHeight="43" fill="#000000" fontFamily="Century Schoolbook" letterSpacing="2">University</tspan>
                        <tspan x="221.5546875" y="31.50390625" fontSize="26" lineHeight="43" fill="#000000" fontFamily="Roboto-Regular" letterSpacing="8"></tspan>
                        <tspan x="235.9912109375" y="31.50390625" fontSize="26" lineHeight="43" fill="#000000" fontFamily="Century Schoolbook" letterSpacing="2">of</tspan>
                        <tspan x="261.6494140625" y="31.50390625" fontSize="26" lineHeight="43" fill="#000000" fontFamily="Roboto-Regular" letterSpacing="8"></tspan>
                        <tspan x="276.0859375" y="31.50390625" fontSize="26" lineHeight="43" fill="#000000" fontFamily="Century Schoolbook" letterSpacing="2">Wuhan</tspan>
                      </text>
                    </g>
                  </g>
                  <defs>
                    <clipPath id="clip-path-0_1">
                      <path d="M0 140L539 140L539 0L0 0L0 140Z" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </div>
            </Link>

            {/* Social Icons */}
            <div className="flex items-center justify-center lg:justify-start gap-3 pt-1">
              <SocialLink href="#" icon={<MessageCircle size={16} />} label="WeChat" />
              <SocialLink href="#" icon={<Globe size={16} />} label="Weibo" />
              <SocialLink href="https://github.com/opxqo" icon={<Github size={16} />} label="GitHub" />
            </div>

            {/* User Avatars Grid - Compact Spacing */}
            <div className="pt-2 flex flex-col items-center lg:items-start">
              <UserAvatarList />
            </div>
          </div>

          {/* Column 2: Quick Links */}
          <FooterSection title={t('footer.quickLinks')}>
            <FooterLink href="#" external>{t('footer.academic')}</FooterLink>
            <FooterLink href="#" external>{t('footer.admissions')}</FooterLink>
            <FooterLink href="#" external>{t('footer.employment')}</FooterLink>
            <FooterLink href="mailto:dean@wic.edu.kg" icon={<Mail size={14} />}>Dean's Mailbox</FooterLink>

            {/* User Avatars Grid */}


          </FooterSection>

          {/* Column 3: Campus Life (New) */}
          <FooterSection title="Campus Life">
            <FooterLink href="/library" icon={<BookOpen size={14} />}>{t('nav.library')}</FooterLink>
            <FooterLink href="/about#section-3" icon={<MapIcon size={14} />}>Campus Map</FooterLink>
            <FooterLink href="/gallery" icon={<Users size={14} />}>Student Clubs</FooterLink>
            <FooterLink href="#" icon={<Calendar size={14} />}>Academic Calendar</FooterLink>
          </FooterSection>

          {/* Column 4: Contact Us */}
          <FooterSection title={t('footer.contact')}>
            <div className="space-y-4">
              <div className="flex items-start gap-3 text-sm text-slate-600 dark:text-slate-400">
                <MapPin size={18} className="text-wic-primary shrink-0 mt-0.5" />
                <span className="leading-relaxed">{t('footer.address')}</span>
              </div>
              <div className="flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400">
                <Phone size={18} className="text-wic-primary shrink-0" />
                <span>027-86490575</span>
              </div>
              <div className="flex items-center gap-3 text-sm text-slate-600 dark:text-slate-400">
                <Mail size={18} className="text-wic-primary shrink-0" />
                <a href="mailto:contact@wic.edu.kg" className="hover:text-wic-primary transition-colors">contact@wic.edu.kg</a>
              </div>
            </div>
          </FooterSection>

        </div>

        {/* Bottom Bar */}
        <div className="border-t border-slate-200 dark:border-slate-800 pt-5 mt-2">
          <div className="flex flex-col md:flex-row justify-between items-center gap-4 text-center md:text-left">
            <p className="text-xs text-slate-500 dark:text-slate-500">
              &copy; {new Date().getFullYear()} Wuhan City University. {t('footer.rights')}
            </p>

            {/* 校训 SVG - 居中 */}
            <div className="hidden md:block">
              <img
                src="/校训.svg"
                alt="励志修德 勤学创新"
                className="h-12 w-auto dark:invert dark:opacity-70"
              />
            </div>

            <div className="flex items-center gap-1.5 text-xs text-slate-500 dark:text-slate-500 bg-white dark:bg-slate-900 px-3 py-1.5 rounded-full shadow-sm border border-slate-100 dark:border-slate-800">
              <span>Designed & Built by</span>
              <span className="font-bold text-slate-700 dark:text-slate-300">OPXQO LT</span>
              <Heart size={10} className="text-red-500 fill-current animate-pulse ml-0.5" />
            </div>
          </div>

          {/* Legal / Disclaimer */}
          <div className="mt-4 pt-4 border-t border-slate-200/50 dark:border-slate-800/50">
            <p className="text-[10px] text-slate-400 dark:text-slate-600 text-center max-w-3xl mx-auto leading-relaxed font-light">
              本网站（WIC Life (城院生活)）为非营利性校园服务平台，仅供内部学习与交流使用。
              站内部分动态贴纸 (.tgs) 及表情素材来源于 Telegram 及开源社区，版权归原作者或 Telegram FZ-LLC 所有。
              如侵犯您的权益，请联系我们移除。
            </p>
          </div>
        </div>
      </div>
    </footer>
  );
};

export default Footer;
